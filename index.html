<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aimvek Localization Plan 2026 (Layout Fixed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', 'Inter', sans-serif; background-color: #f8fafc; color: #334155; }
        
        /* V-Model Specific Styles */
        .v-model-wrapper { display: flex; flex-direction: column; gap: 1rem; }
        .v-level { display: grid; grid-template-columns: 1fr 40px 1fr; align-items: stretch; gap: 1rem; }
        .v-box { padding: 1rem; border-radius: 0.5rem; background: white; border: 1px solid #e2e8f0; position: relative; transition: all 0.2s; }
        .v-box:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .v-box.left { border-left: 4px solid #3b82f6; } /* Taiwan Blue */
        .v-box.right { border-right: 4px solid #f59e0b; text-align: right; } /* India Orange */
        .v-connector { display: flex; align-items: center; justify-content: center; font-weight: bold; color: #94a3b8; }
        
        /* Chart Wrapper */
        .chart-wrapper { 
            position: relative; 
            width: 100%; 
            height: 320px; 
            margin-top: 1rem; 
        }

        .active-phase { background-color: #0f172a; color: white; border-color: #0f172a; }
        .phase-btn:hover:not(.active-phase) { background-color: #e2e8f0; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
    <!-- Chosen Palette: Corporate Blue/Grey for readability -->
    <!-- Application Structure Plan: 
         1. Operation Strategy: Visualizing Sea Freight logic (Layout Fixed).
         2. Timeline Nav: APQP Phases.
         3. Dashboard Content: V-Model, WBS, Execution, Metrics.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-slate-900 text-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-blue-600 rounded flex items-center justify-center font-bold text-lg shadow-inner">A</div>
                <div>
                    <h1 class="text-xl font-bold tracking-tight">aimvek Localization 2026</h1>
                    <p class="text-xs text-slate-400">Taiwan Tech Transfer â” India Execution</p>
                </div>
            </div>
            <div class="hidden md:block text-right">
                <div class="text-xs text-slate-400 uppercase tracking-wider mb-1">Current Status</div>
                <div class="flex items-center space-x-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <span class="font-semibold">Phase 1: Planning Ongoing</span>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full space-y-8">
        
        <!-- SECTION 1: OPERATION MODEL (ç‡Ÿé‹æ¨¡å¼åœ–è§£ - æ’ç‰ˆä¿®æ­£ç‰ˆ) -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
            <div class="bg-slate-50 px-6 py-3 border-b border-slate-200 flex justify-between items-center">
                <h2 class="text-sm font-bold text-slate-700 uppercase tracking-wide">Operation Strategy (å°å°åˆ†å·¥ç‡Ÿé‹æ¨¡å¼)</h2>
                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded border border-blue-200">Mode: Sea Freight</span>
            </div>
            
            <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Stage A: Setup (Ship Fixed) -->
                <div class="relative border border-dashed border-slate-300 rounded-lg p-4 bg-slate-50/50">
                    <div class="absolute -top-3 left-4 bg-slate-600 text-white text-xs px-2 py-1 rounded">Stage A: å»ºå» èˆ‡ç§»è½‰ (Setup)</div>
                    <div class="flex items-center justify-between mt-4 space-x-2"> <!-- Increased mt-4 for top spacing -->
                        <div class="text-center w-1/3">
                            <div class="text-3xl mb-2">ğŸ‡¹ğŸ‡¼</div>
                            <div class="text-sm font-bold text-slate-800">Taiwan HQ</div>
                            <div class="text-xs text-slate-500">è¨­å‚™æ‹†è£ (Pack)</div>
                            <div class="text-xs text-slate-500">é˜²æ½®è™•ç† (Sealing)</div>
                        </div>
                        
                        <!-- Connector Column with More Spacing -->
                        <div class="flex-1 flex flex-col items-center justify-center relative">
                            <!-- Line Container -->
                            <div class="w-full relative h-8 flex items-center justify-center">
                                <div class="absolute w-full h-0.5 bg-slate-300"></div> <!-- The Line -->
                                <div class="relative bg-slate-50/50 px-2 text-3xl z-10 pb-1">ğŸš¢</div> <!-- The Ship -->
                            </div>
                            <!-- Text with Margin Top to prevent overlap -->
                            <div class="text-[10px] text-slate-500 font-medium mt-1 uppercase text-center tracking-wide">
                                Sea Freight<br>(2-4 Weeks)
                            </div>
                        </div>

                        <div class="text-center w-1/3">
                            <div class="text-3xl mb-2">ğŸ‡®ğŸ‡³</div>
                            <div class="text-sm font-bold text-slate-800">India Site</div>
                            <div class="text-xs text-slate-500">æ¸…é—œæè²¨ (Clearance)</div>
                            <div class="text-xs text-slate-500">è¨­å‚™å¾©æ­¸ (Install)</div>
                        </div>
                    </div>
                </div>

                <!-- Stage B: Production (Ship Fixed) -->
                <div class="relative border border-blue-200 bg-blue-50/30 rounded-lg p-4">
                    <div class="absolute -top-3 left-4 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm">Stage B: é‡ç”¢æ¨¡å¼ (Operation)</div>
                    <div class="flex items-center justify-between mt-4 space-x-2">
                        <div class="text-center w-1/3">
                            <div class="text-3xl mb-2">ğŸ“¦</div>
                            <div class="text-sm font-bold text-blue-900">Taiwan Supply</div>
                            <div class="text-xs text-blue-600 font-semibold bg-blue-100 px-1 rounded inline-block mb-1">é—œéµç‰©æ–™ (Kits)</div>
                            <div class="text-xs text-slate-500 block">æˆ°ç•¥åº«å­˜ (Buffer)</div>
                        </div>
                        
                        <!-- Connector Column with More Spacing -->
                        <div class="flex-1 flex flex-col items-center justify-center relative">
                            <!-- Line Container -->
                            <div class="w-full relative h-8 flex items-center justify-center">
                                <div class="absolute w-full h-0.5 bg-blue-300"></div> <!-- The Line -->
                                <div class="relative bg-blue-50/30 px-2 text-3xl z-10 pb-1">ğŸš¢</div> <!-- The Ship -->
                            </div>
                            <!-- Text with Margin Top -->
                            <div class="text-[10px] text-blue-500 font-medium mt-1 uppercase text-center tracking-wide">
                                Logistics Loop<br>(Monthly)
                            </div>
                        </div>

                        <div class="text-center w-1/3">
                            <div class="text-3xl mb-2">ğŸ­</div>
                            <div class="text-sm font-bold text-blue-900">India Mfg</div>
                            <div class="text-xs text-slate-500">IQC æª¢é©—</div>
                            <div class="text-xs text-slate-500">ç”Ÿç”¢çµ„è£ (Assy)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: TIMELINE NAVIGATION (APQP) -->
        <nav class="flex overflow-x-auto pb-2 space-x-2 py-2" id="phaseNav">
            <!-- Buttons injected by JS -->
        </nav>

        <!-- SECTION 3: PHASE CONTENT (Dashboard) -->
        <div id="dashboardContent" class="grid grid-cols-1 lg:grid-cols-12 gap-6 animate-fade-in min-h-[500px]">
            <!-- Content Injected by JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-auto">
        <div class="max-w-7xl mx-auto px-4 py-6 flex justify-between items-center text-xs text-slate-400">
            <p>aimvek Localization Project 2026</p>
            <p>Confidential â€¢ Internal Use Only</p>
        </div>
    </footer>

    <script>
        // --- Data Source ---
        const projectData = {
            phases: [
                {
                    id: 1,
                    code: "Phase 1",
                    title: "Planning (è¦åŠƒ)",
                    subtitle: "åœ¨åœ°åŒ–è©•ä¼°èˆ‡å®šç¾©",
                    desc: "å®šç¾©ç§»è½‰ç¯„åœèˆ‡åŸºç¤è¨­æ–½éœ€æ±‚ã€‚æ­¤éšæ®µç¢ºèªå°ç£æä¾›è¨­å‚™æ¸…å–®èˆ‡å» å‹™è¦æ ¼ï¼Œå°åº¦æ–¹è² è²¬ç¢ºèªå» æˆ¿æ°´é›»æ°£ (Infrastructure) åŒ¹é…åº¦ã€‚",
                    vModel: [
                        { left: "Input: TW BOM Cost Structure", right: "Output: Localization Feasibility Report" },
                        { left: "Input: TW Utility Spec (æ°´é›»æ°£è¦æ ¼)", right: "Output: Gap Analysis (åŸºç¤è¨­æ–½è½å·®)" },
                        { left: "Input: Equipment Layout (TW Ver)", right: "Output: IN Factory Layout Plan" }
                    ],
                    wbs: [
                        { id: "1.1", task: "åŸºç¤è¨­æ–½è©•ä¼°", detail: "é‡é»è©•ä¼°ï¼šé›»åŠ›å£“é™ (éœ€ UPS) èˆ‡ æ°´è³ªç¡¬åº¦ (éœ€ RO+EDI)ã€‚" },
                        { id: "1.6", task: "åˆç´„å¯©æŸ¥", detail: "å®šç¾© IP ä¿è­·ç¯„åœèˆ‡è¨­å‚™ç§»è½‰è²¬ä»»æ­¸å±¬ã€‚" },
                        { id: "1.9", task: "ä¾›æ‡‰éˆè©•ä¼°", detail: "å€åˆ† 'TW Supply' (é—œéµä»¶) èˆ‡ 'Make in India' (åŒ…æ/è€—æ)ã€‚" }
                    ],
                    executionPoints: [
                        { type: "danger", title: "Infrastructure (è‡´å‘½å‚·)", text: "å°åº¦æ°´è³ªéç¡¬æœƒå°è‡´æ¸…æ´—è‰¯ç‡å´©ç›¤ï¼Œé›»åŠ›ä¸ç©©æœƒæå£ç²¾å¯†é›»æ§ã€‚å¿…éœ€ç·¨åˆ—é ç®—å»ºç½®æ°´è™•ç†èˆ‡ç©©å£“ç³»çµ±ã€‚" },
                        { type: "warning", title: "Communication (æºé€š)", text: "å»ºç«‹ 'Explain back' æ©Ÿåˆ¶ï¼Œç¢ºèªå°åº¦çª—å£çœŸæ­£ç†è§£è¦æ ¼éœ€æ±‚ï¼Œè€Œéç¦®è²Œæ€§é»é ­ã€‚" }
                    ],
                    chartTitle: "é ä¼°åˆæœŸæŠ•è³‡ä½”æ¯” (Budget)",
                    chartType: "doughnut",
                    chartData: {
                        labels: ['åŸºç¤è¨­æ–½è£œå¼· (Water/Power)', 'è¨­å‚™æ¬é· (Sea Freight)', 'é—œç¨… (Import Duty)', 'åŸ¹è¨“ (Training)'],
                        datasets: [{
                            data: [35, 25, 30, 10],
                            backgroundColor: ['#ef4444', '#3b82f6', '#f59e0b', '#cbd5e1']
                        }]
                    }
                },
                {
                    id: 2,
                    code: "Phase 2",
                    title: "Product Design (è¨­è¨ˆ)",
                    subtitle: "ç”¢å“èˆ‡ç’°å¢ƒé©æ‡‰æ€§è¨­è¨ˆ",
                    desc: "é‡å°å°åº¦é«˜æº«é«˜æ¿• (45Â°C / High Humidity) ç’°å¢ƒï¼Œèª¿æ•´å°ç£æ—¢æœ‰è¨­è¨ˆã€‚å°ç£æä¾› DFMEAï¼Œå°åº¦æ–¹é©—è­‰åœ¨åœ°ç’°å¢ƒå½±éŸ¿ã€‚",
                    vModel: [
                        { left: "Input: TW DFMEA (åŸå» å¤±æ•ˆåˆ†æ)", right: "Output: IN DFMEA Addendum (ç’°å¢ƒå¢è£œ)" },
                        { left: "Input: TW Equipment List", right: "Output: Localized Spec (è¨­å‚™æ”¹é€ è¦æ ¼)" },
                        { left: "Input: Packaging Spec", right: "Output: Logistics Test Plan (è·¯è·‘æ¸¬è©¦)" }
                    ],
                    wbs: [
                        { id: "2.1", task: "ç’°å¢ƒé©æ‡‰æ€§è¨­è¨ˆ", detail: "å°é›»è† èˆ‡å…‰å­¸è†œéœ€é€šéé«˜æº«é«˜æ¿•æ¸¬è©¦ã€‚" },
                        { id: "2.10", task: "è¨­å‚™åœ¨åœ°åŒ–æ”¹é€ ", detail: "Chiller åŠŸç‡åŠ å¤§ (+30%) ä»¥æ‡‰å° 45Â°C ç’°å¢ƒï¼›é›»æ§ç®±åŠ è£æ¿¾ç¶²é˜²å¡µã€‚" },
                        { id: "2.8", task: "åŒ…è£è¦ç¯„å‡ç´š", detail: "æ”¹ç”¨ Moisture Barrier Bag (é˜²æ½®è¢‹) æ‡‰å°æµ·é‹èˆ‡å­£é¢¨æ°£å€™ã€‚" }
                    ],
                    executionPoints: [
                        { type: "warning", title: "Jugaad (æ¬Šå®œä¹‹è¨ˆ)", text: "è¨­è¨ˆæ²»å…·æ™‚éœ€å°å…¥ 'ç‰©ç†é˜²å‘† (Poka-Yoke)'ï¼Œé˜²æ­¢ä½œæ¥­å“¡è·³éæ­¥é©Ÿæˆ–ç”¨åœŸæ³•ç…‰é‹¼æ–¹å¼æ“ä½œã€‚" }
                    ],
                    chartTitle: "ç’°å¢ƒæº«æ¿•åº¦å°æ¯” (TW vs IN)",
                    chartType: "bar",
                    chartData: {
                        labels: ['Max Temp (C)', 'Avg Humidity (%)', 'Dust Level (PM)'],
                        datasets: [{
                            label: 'Taiwan (Base)',
                            data: [32, 75, 20],
                            backgroundColor: '#3b82f6'
                        }, {
                            label: 'India (Target)',
                            data: [45, 90, 150],
                            backgroundColor: '#f59e0b'
                        }]
                    }
                },
                {
                    id: 3,
                    code: "Phase 3",
                    title: "Process Design (è£½ç¨‹)",
                    subtitle: "è£½ç¨‹é–‹ç™¼èˆ‡æ¨™æº–åŒ–",
                    desc: "å°‡å°ç£åƒæ•¸ (Center Line) è½‰æ›ç‚ºé©åˆç•¶åœ°åŸç‰©æ–™èˆ‡ç’°å¢ƒçš„ Golden Sampleã€‚é‡é»åœ¨æ–¼å»ºç«‹åœ–åƒåŒ–æ¨™æº–ï¼Œå…‹æœèªè¨€éšœç¤™ã€‚",
                    vModel: [
                        { left: "Input: TW SOP & SIP", right: "Output: Visual Standard (é›™èªåœ–ç¤ºåŒ– SOP)" },
                        { left: "Input: Center Line (TWåƒæ•¸)", right: "Output: Golden Sample (åœ¨åœ°æœ€ä½³åŒ–åƒæ•¸)" },
                        { left: "Input: Machine Install Manual", right: "Output: Installation Checklist (<10Î© æ¥åœ°)" }
                    ],
                    wbs: [
                        { id: "3.4", task: "è¨­å‚™å®‰è£èˆ‡å» å‹™", detail: "100% é§é»ç›£å·¥æ¥åœ°å·¥ç¨‹ (<10Î©)ã€‚" },
                        { id: "3.11", task: "åƒæ•¸åœ¨åœ°åŒ– (Tuning)", detail: "å› æ‡‰ç¡¬æ°´èˆ‡é«˜å®¤æº«ï¼Œé‡æ–°èª¿æ•´æ¸…æ´—åŠ‘æ¿ƒåº¦èˆ‡ Chiller è¨­å®šã€‚" },
                        { id: "3.7", task: "é™åº¦æ¨£å“ (Limit Sample)", detail: "å»ºç«‹å¯¦é«”æ¨£å“ç‰† (OK/NG Wall)ï¼Œå–ä»£æ–‡å­—åˆ¤æ–·ã€‚" }
                    ],
                    executionPoints: [
                        { type: "danger", title: "Visual Management (ç›®è¦–åŒ–)", text: "SOP æ–‡å­—ç„¡æ•ˆåŒ–ã€‚å¿…é ˆæ‹æ” 'æ­£ç¢º vs éŒ¯èª¤' å°æ¯”å½±ç‰‡ï¼Œä¸¦å»ºç«‹ 'å¯¦ä½œèªè­‰' æ©Ÿåˆ¶ã€‚" },
                        { type: "info", title: "Inventory (æˆ°ç•¥åº«å­˜)", text: "é—œéµå‚™å“ (PLC/Pump) éœ€å»ºç«‹å®‰å…¨åº«å­˜ï¼Œé¿å…é€²å£æ¸…é—œå°è‡´é•·é” 4 é€±çš„åœæ©Ÿã€‚" }
                    ],
                    chartTitle: "åƒæ•¸ Offset (å°ç£è¨­å®š vs å°åº¦ä¿®æ­£)",
                    chartType: "line",
                    chartData: {
                        labels: ['UV Energy', 'Wash Temp', 'Chiller Set', 'Speed'],
                        datasets: [{
                            label: 'TW Base',
                            data: [100, 50, 23, 1.5],
                            borderColor: '#3b82f6',
                            tension: 0.4
                        }, {
                            label: 'IN Optimized',
                            data: [110, 55, 20, 1.2],
                            borderColor: '#f59e0b',
                            tension: 0.4
                        }]
                    }
                },
                {
                    id: 4,
                    code: "Phase 4",
                    title: "Validation (é©—è­‰)",
                    subtitle: "è©¦é‡ç”¢èˆ‡å£“åŠ›æ¸¬è©¦",
                    desc: "åŸ·è¡Œ 'å½±å­æ¨¡å¼ (Shadowing)'ã€‚å°ç£ä¾›æ‡‰ææ–™ï¼Œå°åº¦åŸ·è¡Œ 48hr æ»¿è¼‰ç”Ÿç”¢ã€‚å°ç£å·¥ç¨‹å¸«åªçœ‹ä¸å‹•æ‰‹ï¼Œé©—è­‰çœŸå¯¦èƒ½åŠ›ã€‚",
                    vModel: [
                        { left: "Input: Pilot Run Plan", right: "Output: 48hr Full Run Report" },
                        { left: "Input: TW Material Kits", right: "Output: Finished Goods & Logistics Test" },
                        { left: "Input: Limit Sample Wall", right: "Output: MSA Report (GR&R)" }
                    ],
                    wbs: [
                        { id: "4.1", task: "æ»¿è¼‰å£“åŠ›æ¸¬è©¦", detail: "é€£çºŒ 48 å°æ™‚ä¸åœæ©Ÿï¼Œæ¸¬è©¦äººå“¡è¼ªç­èˆ‡è¨­å‚™ç©©å®šæ€§ã€‚" },
                        { id: "4.2", task: "MSA äººå“¡é©—è­‰", detail: "é‡å°å¤œç­äººå“¡åŸ·è¡Œç›²æ¸¬ (Blind Test)ï¼Œç¢ºä¿æª¢é©—æ¨™æº–ä¸€è‡´ã€‚" },
                        { id: "4.6", task: "ç‰©æµè·¯è·‘æ¸¬è©¦", detail: "å¯¦éš›å‡ºè²¨è‡³å®¢æˆ¶ç«¯ï¼Œé©—è­‰åŒ…è£èˆ‡é‹è¼¸è€å—åº¦ã€‚" }
                    ],
                    executionPoints: [
                        { type: "warning", title: "Shadowing Mode (å½±å­æ¨¡å¼)", text: "è©¦ç”¢æœ€å¾Œéšæ®µï¼Œå°ç£äººæ’¤å‡ºç”¢ç·šï¼Œåƒ…ç›£æ§æ•¸æ“šã€‚é€™æ˜¯æ¸¬è©¦å°åº¦åœ˜éšŠç¨ç«‹è§£æ±ºå•é¡Œèƒ½åŠ›çš„å”¯ä¸€æ©Ÿæœƒã€‚" },
                        { type: "danger", title: "Data Integrity (æ•¸æ“šèª ä¿¡)", text: "åš´æ ¼æ¯”å°æ©Ÿå° Log èˆ‡ç´™æœ¬å ±è¡¨ï¼Œæœçµ•æ•¸æ“šé€ å‡ (Fake Data)ã€‚" }
                    ],
                    chartTitle: "è©¦ç”¢è‰¯ç‡èˆ‡å•é¡Œåˆ†ä½ˆ (Yield Loss)",
                    chartType: "bar",
                    chartData: {
                        labels: ['Particle (ç•°ç‰©)', 'Scratch (åˆ®å‚·)', 'Dimension (å°ºå¯¸)', 'Elec. (é›»æ¸¬)'],
                        datasets: [{
                            label: 'Defect Rate (%)',
                            data: [4.5, 2.1, 0.5, 1.2],
                            backgroundColor: '#ef4444'
                        }]
                    }
                },
                {
                    id: 5,
                    code: "Phase 5",
                    title: "Review (é‡ç”¢)",
                    subtitle: "æŒçºŒæ”¹å–„èˆ‡é‡ç”¢ä¾›æ–™",
                    desc: "é€²å…¥æ­£å¼é‡ç”¢ (SOP)ã€‚æ¨¡å¼ç¢ºç«‹ç‚ºï¼šå°ç£æŒçºŒä¾›æ‡‰é—œéµç‰©æ–™ï¼Œå°åº¦è² è²¬ç”Ÿç”¢èˆ‡å‡ºè²¨ã€‚é‡é»åœ¨æ–¼é˜²æ­¢ç´€å¾‹é¬†æ‡ˆ (Entropy)ã€‚",
                    vModel: [
                        { left: "Input: Control Plan (é‡ç”¢ç‰ˆ)", right: "Output: SPC Report (Cpk Trends)" },
                        { left: "Input: Problem Log", right: "Output: Lessons Learned DB" },
                        { left: "Input: Material Forecast", right: "Output: Delivery Performance" }
                    ],
                    wbs: [
                        { id: "5.1", task: "è£½ç¨‹è®Šç•°ç›£æ§", detail: "ç›£æ§ Cpk/Ppkï¼Œé˜²æ­¢åƒæ•¸è¢«ç§è‡ªèª¿æ•´ã€‚" },
                        { id: "5.2", task: "å¿«é€Ÿåæ‡‰æ©Ÿåˆ¶", detail: "å»ºç«‹æ¯é€±å®¢è¨´æª¢è¨ï¼Œå…‹æœå°åº¦ 'ç©å£“å•é¡Œ' çš„ç¿’æ…£ã€‚" },
                        { id: "5.5", task: "åˆ†å±¤ç¨½æ ¸ (LPA)", detail: "æ¯æ—¥/æ¯é€±/æ¯æœˆä¸åŒéšå±¤ä¸»ç®¡å·¡ç·šï¼Œç¶­æŒç´€å¾‹ã€‚" }
                    ],
                    executionPoints: [
                        { type: "danger", title: "Entropy (ç†µå¢/ç´€å¾‹é¬†æ‡ˆ)", text: "å°åº¦ç”¢ç·šå¸¸æœ‰ 'ä¸‰å€‹æœˆå¾Œç´€å¾‹å´©å£' ç¾è±¡ã€‚å¿…é ˆä¾é  LPA (åˆ†å±¤ç¨½æ ¸) èˆ‡ IoT ç›£æ§ç¶­æŒæ¨™æº–ã€‚" }
                    ],
                    chartTitle: "Cpk è¶¨å‹¢ (Entropy Control)",
                    chartType: "line",
                    chartData: {
                        labels: ['W1', 'W2', 'W3', 'W4 (Risk)', 'W5 (LPA Fix)'],
                        datasets: [{
                            label: 'Without Audit',
                            data: [1.6, 1.55, 1.4, 1.1, 0.9],
                            borderColor: '#ef4444',
                            borderDash: [5, 5]
                        }, {
                            label: 'With LPA System',
                            data: [1.6, 1.62, 1.65, 1.63, 1.66],
                            borderColor: '#10b981',
                            tension: 0.3
                        }]
                    }
                }
            ]
        };

        // --- Core Functions ---
        let currentChart = null;

        function initApp() {
            renderNav();
            renderPhase(0);
        }

        function renderNav() {
            const nav = document.getElementById('phaseNav');
            nav.innerHTML = projectData.phases.map((phase, index) => `
                <button onclick="renderPhase(${index})" 
                        class="phase-btn px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-200 border border-slate-200 bg-white text-slate-500 whitespace-nowrap shadow-sm hover:shadow-md flex flex-col items-center min-w-[120px]"
                        id="btn-phase-${index}">
                    <span class="text-xs uppercase mb-1 opacity-70">${phase.code}</span>
                    <span>${phase.title}</span>
                </button>
            `).join('');
        }

        function renderPhase(index) {
            const data = projectData.phases[index];
            const content = document.getElementById('dashboardContent');
            
            // Update Active Nav State
            document.querySelectorAll('.phase-btn').forEach(btn => {
                btn.className = 'phase-btn px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-200 border border-slate-200 bg-white text-slate-500 whitespace-nowrap shadow-sm hover:shadow-md flex flex-col items-center min-w-[120px]';
            });
            document.getElementById(`btn-phase-${index}`).className = 'phase-btn px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-200 border-blue-600 bg-blue-600 text-white whitespace-nowrap shadow-md flex flex-col items-center min-w-[120px] transform scale-105';

            // HTML Template
            content.innerHTML = `
                <!-- LEFT COLUMN: Logic & Tasks -->
                <div class="lg:col-span-7 space-y-6">
                    
                    <!-- Intro Card -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2">${data.subtitle}</h2>
                        <p class="text-slate-600 leading-relaxed">${data.desc}</p>
                    </div>

                    <!-- V-Model Section -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center">
                            <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs mr-2">LOGIC</span>
                            V-Model Validation Flow
                        </h3>
                        <div class="v-model-wrapper">
                            ${data.vModel.map(row => `
                                <div class="v-level">
                                    <div class="v-box left">
                                        <div class="text-xs font-bold text-blue-600 mb-1">TAIWAN INPUT</div>
                                        <div class="text-sm text-slate-700">${row.left.replace('Input: ', '')}</div>
                                    </div>
                                    <div class="v-connector">â”</div>
                                    <div class="v-box right">
                                        <div class="text-xs font-bold text-amber-600 mb-1">INDIA OUTPUT</div>
                                        <div class="text-sm text-slate-700">${row.right.replace('Output: ', '')}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- WBS Tasks -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">WBS Key Tasks</h3>
                        <div class="space-y-3">
                            ${data.wbs.map(item => `
                                <div class="flex items-start p-3 bg-slate-50 rounded border border-slate-100">
                                    <span class="bg-slate-200 text-slate-700 text-xs font-bold px-2 py-1 rounded mr-3 mt-0.5">${item.id}</span>
                                    <div>
                                        <div class="font-semibold text-slate-800 text-sm">${item.task}</div>
                                        <div class="text-sm text-slate-500 mt-1">${item.detail}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <!-- RIGHT COLUMN: Execution & Data -->
                <div class="lg:col-span-5 space-y-6">
                    
                    <!-- Critical Execution Points -->
                    <div class="bg-slate-800 text-white p-6 rounded-xl shadow-md">
                        <h3 class="text-lg font-bold mb-4 flex items-center">
                            âš ï¸ Execution Focus (åœ¨åœ°åŒ–é‡é»)
                        </h3>
                        <div class="space-y-4">
                            ${data.executionPoints.map(point => `
                                <div class="bg-slate-700/50 p-4 rounded-lg border-l-4 ${point.type === 'danger' ? 'border-red-500' : point.type === 'warning' ? 'border-amber-400' : 'border-blue-400'}">
                                    <h4 class="font-bold text-sm mb-1 ${point.type === 'danger' ? 'text-red-300' : point.type === 'warning' ? 'text-amber-300' : 'text-blue-300'}">${point.title}</h4>
                                    <p class="text-sm text-slate-300 opacity-90">${point.text}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Chart Section -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-1">${data.chartTitle}</h3>
                        <p class="text-xs text-slate-400 mb-4">Data Analysis Visualization</p>
                        <div class="chart-wrapper">
                            <canvas id="phaseChart"></canvas>
                        </div>
                    </div>

                </div>
            `;

            renderChart(data.chartType, data.chartData);
        }

        function renderChart(type, data) {
            const ctx = document.getElementById('phaseChart').getContext('2d');
            
            if (currentChart) {
                currentChart.destroy();
            }

            currentChart = new Chart(ctx, {
                type: type,
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    layout: {
                        padding: {
                            top: 20, 
                            bottom: 10
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { 
                                usePointStyle: true, 
                                boxWidth: 8,
                                padding: 20,
                                font: { size: 11 }
                            }
                        }
                    },
                    scales: type !== 'doughnut' ? {
                        y: { 
                            beginAtZero: true, 
                            grid: { color: '#f1f5f9' },
                            ticks: { font: { size: 10 } }
                        },
                        x: { 
                            grid: { display: false },
                            ticks: { font: { size: 10 } }
                        }
                    } : {}
                }
            });
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
